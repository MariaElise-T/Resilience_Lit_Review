Earthquakes are among the most devastating natural disasters, posing a significant threat to human life and property. With the rapid pace of urbanization, urban risk against earthquakes has increased, making them an increasingly pressing concern for human society. Urban infrastructure systems (UISs), such as electric power, water supply, and gas systems, are essential to the smooth functioning of modern society but are highly vulnerable to ground shaking, resulting in service interruptions to customers and triggering negative impacts on society. This article focuses on the seismic retrofit problem, which intends to enhance the resilience of UISs against seismic hazards. First, a two-stage stochastic programming model is developed for the seismic retrofit problem, where the first stage seeks an optimal seismic retrofit strategy under a limited budget, and the second stage attempts to identify a repair sequence to maximize the system resilience under the given retrofit strategy. Then, this article introduces a heuristic algorithm based on the scenario reduction method and integer L-shaped method to solve the formulated model. Finally, numerical experiments on the Qujing power transmission system are conducted to validate the proposed algorithm. Results show that they can be applied to the resilience-based seismic retrofit problem of large-scale UISs. 