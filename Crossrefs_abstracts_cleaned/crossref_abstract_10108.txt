SummaryDistributed optimization algorithms have various advantages and wide applications, while the distributed nature also makes them flimsy in the face of external attacks. In this paper two Byzantine attack models are designed, in which the edge attack model is seldom considered before. A resilient distributed consensus algorithm based on the trusted nodes and edges is proposed to defend against the two attack models. The agreement and optimality of the proposed consensus algorithm are guaranteed with theoretical analysis. The simulation results and comparison experiments verify the proposed algorithm to be more effective than the compared one. In the perspective of attackers, which attack model is more recommended is also analysed based on the experiments.