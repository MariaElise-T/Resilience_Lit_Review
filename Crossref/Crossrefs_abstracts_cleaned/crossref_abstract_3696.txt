 We construct a model for liquidity risk and price impacts in a limit order book setting with depth, resilience and tightness. We derive a wealth equation and a characterization of illiquidity costs. We show that we can separate liquidity costs due to depth and resilience from those related to tightness, and obtain a reduced model in which proportional costs due to the bid-ask spread is removed. From this, we obtain conditions under which the model is arbitrage free. By considering the standard utility maximization problem, this also allows us to obtain a stochastic discount factor and an asset pricing formula which is consistent with empirical findings (e.g., Brennan and Subrahmanyam (1996); Amihud and Mendelson (1986)). Furthermore, we show that in limiting cases for some parameters of the model, we derive many existing liquidity models present in the arbitrage pricing literature, including Ã‡etin et al. (2004) and Rogers and Singh (2010). This offers a classification of different types of liquidity costs in terms of the depth and resilience of prices. 